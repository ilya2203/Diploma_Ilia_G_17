pool:
  name: Azure Pipelines
  vmImage: vs2017-win2016

variables:
  - group: Application_var

steps:
- task: qetza.replacetokens.replacetokens-task.replacetokens@3
  displayName: 'Replace tokens in dbCred.py'
  inputs:
    targetFiles: '**/dbCred.py'
    tokenPrefix: '__'
    tokenSuffix: '__'

- task: SonarCloudPrepare@1
  inputs:
    SonarCloud: 'SonarCloud'
    organization: 'ilya2203'
    scannerMode: 'MSBuild'
    projectKey: 'ilya2203_Diploma_Ilia_G_17'
    projectName: 'Diploma_Ilia_G_17'
    
- task: SonarCloudAnalyze@1
  displayName: 'sonar'

